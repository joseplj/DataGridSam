<?xml version="1.0" encoding="UTF-8"?>
<Grid xmlns="http://xamarin.com/schemas/2014/forms" 
      xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
      xmlns:d="http://xamarin.com/schemas/2014/forms/design"
      xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
      xmlns:stack="clr-namespace:DataGridSam.Utils;assembly=DataGridSam"
      xmlns:local="clr-namespace:DataGridSam;assembly=DataGridSam"
      mc:Ignorable="d"
      x:Name="self"
      x:Class="DataGridSam.DataGrid"
      RowSpacing="0"
      Padding="0">

    <d:Grid.BindingContext>
        <local:DataGrid/>
    </d:Grid.BindingContext>

    <Grid.RowDefinitions>
        <RowDefinition Height="Auto"/>
        <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <Grid x:Name="_headerView">
        <Grid.Resources>
            <ResourceDictionary>
                <!--Default Header Style-->
                <Style x:Key="HeaderDefaultStyle" TargetType="Label">
                    <Setter Property="HorizontalOptions" Value="FillAndExpand"/>
                    <Setter Property="VerticalOptions" Value="FillAndExpand"/>
                    <Setter Property="HorizontalTextAlignment" Value="Center"/>
                    <Setter Property="VerticalTextAlignment" Value="Center"/>
                    <Setter Property="LineBreakMode" Value="WordWrap"/>
                </Style>
                <Style x:Key="ImageStyleBase" TargetType="Image">
                    <Setter Property="Aspect" Value="AspectFill"/>
                    <Setter Property="VerticalOptions" Value="Center"/>
                    <Setter Property="HorizontalOptions" Value="Center"/>
                    <Setter Property="HeightRequest" Value="5"/>
                    <Setter Property="WidthRequest" Value="9"/>
                    <Setter Property="Margin" Value="0,0,4,0"/>
                </Style>
                <Style x:Key="AscendingIconStyle" TargetType="Image" BasedOn="{StaticResource ImageStyleBase}">
                    <Setter Property="Source" Value="{Binding AscendingIcon, Source={x:Reference self}}"/>
                </Style>
                <Style x:Key="DescendingIconStyle" TargetType="Image" BasedOn="{StaticResource ImageStyleBase}">
                    <Setter Property="Source" Value="{Binding DescendingIcon, Source={x:Reference self}}"/>
                </Style>
            </ResourceDictionary>
        </Grid.Resources>
        
    </Grid>

    <!--StackList-->
    <ScrollView Grid.Row="1">
        <stack:StackList x:Name="stackList"
                         DataGrid="{Reference self}"/>
    </ScrollView>
    
    <Grid Grid.Row="1"
          x:Name="verticalLines"
          BackgroundColor="Transparent"
          InputTransparent="True"
          HeightRequest="{Binding HeightRequest, Source={Reference stackList}}"/>
</Grid>